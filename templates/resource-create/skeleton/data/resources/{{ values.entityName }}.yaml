apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: {{ values.entityName }}
  {% if values.title %}title: {{ values.title | dump }}{% endif %}
  {% if values.description %}description: {{ values.description | dump }}{% endif %}
  {% if values.tags and values.tags.length > 0 %}
  tags:
  {% for t in values.tags %}- {{ t | dump }}
  {% endfor %}
  {% endif %}

  {% if values.technology or values.version %}
  annotations:
    {% if values.technology %}technology: {{ values.technology | dump }}{% endif %}
    {% if values.version %}version: {{ values.version | dump }}{% endif %}
  {% endif %}
spec:
  type: {{ values.resourceType | dump }}
  owner: {{ values.owner | dump }}